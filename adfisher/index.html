<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="http://www.cs.cmu.edu/favicon.ico">

    <title>AdFisher: Detecting Discrimination and Opacity in Online Behavioral Advertising</title>

    <!-- Bootstrap core CSS -->
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap theme -->
    <link href="bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="theme.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-35679205-4', 'auto');
  ga('send', 'pageview');
    </script>
  </head>

  <body>

    <div class="container theme-showcase" role="main">

      <header>
	<h1>Discrimination and Opacity in Online Behavioral Advertising</h1>
      </header>

      <main>
	<section>
	  <h6>Overview</h6>
	  To partly address people's concerns over web tracking, Google has created the 
          <a href="http://www.google.com/settings/ads/" target="_blank">Ad Settings</a> webpage 
          to provide information about and some choice over the profiles Google creates on users. 
          We present AdFisher, an automated tool that explores how user behaviors, Google's ads, 
          and Ad Settings interact. AdFisher can run browser-based experiments and analyze data 
          using machine learning and significance tests. 
          Our <a href="details.html#methodology">methodology</a> uses a 
          rigorous experimental design and statistical analysis to ensure the statistical soundness 
          of our results. We use AdFisher to find that the Ad Settings was <b>opaque</b> about some 
          features of a user's profile, that it does provide some <b>choice</b> on ads, and 
          that these choices can lead to seemingly <b>discriminatory</b> ads. In particular, 
          we found that visiting webpages associated with <b>substance abuse</b> changed the ads 
          shown but not the settings page. We also found that setting the <b>gender</b> to female 
          resulted in getting fewer instances of an ad related to high paying jobs than setting it 
          to male. We cannot determine who caused these findings due to our limited visibility into 
          the ad ecosystem, which includes Google, advertisers, websites, and users. Nevertheless, 
          these results can form the starting point for deeper investigations by either the companies 
          themselves or by regulatory bodies.
	</section>
	  
	<section>
	  <h6>Publications</h6>
	  <div class="paper">
            <div><span class="title">Automated Experiments on Ad Privacy Settings: A Tale of Opacity, Choice, and Discrimination</span>. 
              <a href="http://www.degruyter.com/view/j/popets.2015.1.issue-1/popets-2015-0007/popets-2015-0007.xml" target="_blank">[paper]</a>
              <a href="http://arxiv.org/abs/1408.6491" target="_blank">[TR]</a>
	      <a href="http://www.cs.cmu.edu/%7Emtschant/ife/datta15arxiv-v2-codedata.zip" target="_blank">[data]</a>
              <a href="https://github.com/tadatitam/info-flow-experiments" target="_blank">[software]</a>
            </div>
	    <div class="authors">
              <a href="http://www.andrew.cmu.edu/user/amitdatt/" target="_blank">Amit Datta</a>, 
              <a href="http://www.cs.cmu.edu/%7Emtschant/" target="_blank">Michael Carl Tschantz</a>, 
              <a href="http://www.andrew.cmu.edu/user/danupam/" target="_blank">Anupam Datta</a>.
	    </div>
            <div class="venue">
	      Appeared in Proceedings on Privacy Enhancing Technologies. Volume 2015, Issue 1, Pages 92–112.
	    </div>
	  </div>
	</section>

	<section>
	  <h5>Selected Press</h5>
	  <p>
	    <a href="http://america.aljazeera.com/articles/2015/4/16/study-ads-related-to-high-paying-jobs-favor-men.html" target="_blank">Al Jazeera</a>, 
	    <a href="http://cacm.acm.org/magazines/2016/3/198859-when-computers-stand-in-the-schoolhouse-door/fulltext" target="_blank">CACM</a>, 
	    <a href="http://www.cmu.edu/news/stories/archives/2015/july/online-ads-research.html" target="_blank">CMU News</a>,
	    <a href="http://cmtoday.cmu.edu/technology_business/online-advertising-marketing-research/" target="_blank">CMToday</a>,          
	    <a href="http://www.listeningbrief.com/episode-4-amit-datta-anupam-datta-michael-tschantz-google-ads-and-discrimination/" target="_blank">Listening Brief</a>,
	    <a href="http://www.technologyreview.com/news/539021/probing-the-dark-side-of-googles-ad-targeting-system/" target="_blank">MIT Technology Review</a>,
	    <a href="http://www.nytimes.com/2016/06/26/opinion/sunday/artificial-intelligences-white-guy-problem.html" target="_blank">New York Times</a>, 
	    <a href="http://www.nytimes.com/2015/07/10/upshot/when-algorithms-discriminate.html" target="_blank">New York Times: Upshot</a>, 
	    <a href="http://www.post-gazette.com/business/career-workplace/2015/07/08/Carnegie-Mellon-researchers-see-disparity-in-targeted-online-job-ads/stories/201507080107" target="_blank">Pittsburgh Post-Gazette</a>, 
	    <a href="https://techcrunch.com/2015/07/09/researchers-probe-online-ad-targeting-bias/" target="_blank">TechCrunch</a>,
	    <a href="http://www.wsj.com/articles/computers-are-showing-their-biases-and-tech-firms-are-concerned-1440102894" target="_blank">The Wall Street Journal</a>,
	    <a href="http://www.washingtonpost.com/news/the-intersect/wp/2015/07/06/googles-algorithm-shows-prestigious-job-ads-to-men-but-not-to-women-heres-why-that-should-worry-you/" target="_blank">Washington Post: Intersect</a>,        
	    <a href="http://www.wired.com/2015/07/googles-ad-system-become-big-control/" target="_blank">Wired</a>, and 
	    <a href="https://www.yahoo.com/tech/does-googles-ad-network-discriminate-against-123674289134.html" target="_blank">Yahoo Tech</a>. 
	  </p>
        	<section>
	  <h5>Other Mentions</h5>
	  <p>
	    <a href="https://www.aclu.org/blog/free-future/aclu-challenges-computer-crimes-law-thwarting-research-discrimination-online" target="_blank">ACLU</a>, 
	    <a href="https://www.cio.com/article/2997514/predictive-analytics/artificial-intelligence-can-go-wrong-but-how-will-we-know.html" target="_blank">CIO</a>, 
	    <a href="https://iapp.org/news/a/unraveling-and-unpacking-the-technology-of-web-tracking/" target="_blank">IAPP</a>,
	    <a href="https://www.theguardian.com/technology/2016/aug/03/algorithm-racist-human-employers-work" target="_blank">The Guardian</a>, 
	    <a href="https://www.newyorker.com/business/currency/how-an-old-hacking-law-hampers-the-fight-against-online-discrimination" target="_blank">The New Yorker</a>,
	    <a href="http://www.nytimes.com/2016/06/26/opinion/sunday/artificial-intelligences-white-guy-problem.html" target="_blank">New York Times</a>,
	    <a href="https://www.sciencenews.org/article/machines-are-getting-schooled-fairness" target="_blank">ScienceNews</a>,  
	    <a href="https://www.whitehouse.gov/sites/default/files/microsites/ostp/2016_0504_data_discrimination.pdf" target="_blank">White House Report</a>.
	  </p>
	  <!--          <a href="https://news.google.com/news/story?ncl=dYfpprQarp5Cp7Mc0QfnqHziKhFAM&q=adfisher&lr=English&hl=en&sa=X&ved=0CCkQqgIwAGoVChMIkoTu4OjyxgIVU5uICh0poQhA" target="_blank">100+ other articles</a>.  -->
	</section>

	<section>
          <h2>Key Findings</h2>

	  <section>
	    <h3>Discrimination</h3>
            To study discrimination, we had AdFisher create 1000 fresh browser instances and assign them randomly to two groups. One group set their gender to <i>male</i> on Google's Ad Settings page, while the other set it to <i>female</i>. Then, all the browsers visited the top 100 websites for employment on <a href="http://www.alexa.com/topsites/category/Top/Business/Employment" target="_blank">Alexa</a>. Thereafter, all the browsers collected the ads served by Google on the <a href="http://timesofindia.indiatimes.com/international-home" target="_blank">Times of India</a>. The top two ads served to the male group was from a career coaching service called <a href="http://careerchange.com" target="_blank">careerchange.com</a> that promised high-paying executive level jobs. The top ad was served <b>1816</b> times to the male users, but only <b>311</b> times to the female users. Of the 500 simulated male users, <b>402</b> received the ad at least once, but only <b>60</b> female users received the same ad at least once. 
            <br> <br><img src="discrimination.png" alt="Gender-based discrimination" style="width:50%;">
	  </section>

	  <section>
            <h3>Opacity</h3>
            To study opacity (a lack of transparency), we started with two groups of 500 fresh browser instances each. AdFisher drove one group to visit the top 100 websites for substance abuse on <a href="http://www.alexa.com/topsites/category/Top/Health/Addictions/Substance_Abuse" target="_blank">Alexa</a>, while the other group idled. Thereafter, all the browsers collected the ads served by Google on the <a href="http://timesofindia.indiatimes.com/international-home" target="_blank">Times of India</a>. The top three ads served to the substance abuse visitors were for an alcohol and drug rehabilitation center called <b>the Watershed Rehab</b> (<a href="http://www.thewatershed.com" target="_blank">www.thewatershed.com</a>). The top three ads were served <b>2276, 362</b>, and  <b>771</b> times to the substance abuse visitors, but not a single time to the control group. However, there was no effect on the Ad Settings page - no demographics or interests were inferred for any browser in any group.
          
            We find this particular result even more concerning since it shows that the Google ad ecosystem is using health-related activities (visits to substance-abuse websites) to target ads. 
            <br> <br><img src="opacity.png" alt="Substance-abuse opacity" style="width:50%;"> <br><br>
          
            You can find more details about our findings <a href="details.html#findings">here</a>. 
	  </section>
	</section>
	  
	<section id="faq">
          <h2>Frequently Asked Questions</h2>

	  <section>
	    <h4>Have there been studies of this kind in the past?</h4>  
            <p>Ours is the first study to demonstrate discrimination in online behavioral advertising by showing <b>statistical significance</b>. This is also the first study that shows Google's transparency tool (Ad Settings) can sometimes be opaque. The rigorous methodology behind our experimental design ensures that we find <b>causal effects</b>, not just correlations.
              Prior studies on behavioral marketing either do not show statistical significance, or make assumptions unlikely to hold in the ad ecosystem to obtain significance.</p>
          </section>

	  <section id="disc-cause">
	    <h4>Who is responsible for the discrimination results?</h4>
	    <p>We can think of a few reasons why the discrimination results may have appeared.</p>
            <ol type="1">   
              <li>The advertiser's targeting of the ad</li>
              <li>Google explicitly programing the system to show the ad less often to females</li>
              <li>Males and female consumers respond differently to ads and Google's targeting algorithm responds to the difference (e.g., Google learned that males are more likely to click on this ad than females are)</li>
              <li>More competition existing for advertising to females causing the advertiser to win fewer ad slots for females</li>
              <li>Some third party (e.g., a hacker) manipulating the ad ecosystem</li>
              <li>Some other reason we haven't thought of.</li>
              <li>Some combination of the above.</li>
            </ol>
	    <p>These further break down into subcases.  For example, in (1), the advertiser might have been explicitly targeting on gender or on attributes that might be correlated with gender. 
              Being on the outside, we don’t have enough visibility into the system to pinpoint the actual reason. Nevertheless, we find such differential treatment of male and female users for high-paying job opportunities concerning.</p>
          </section>

	  <section>
	    <h4>Who is responsible for the opacity results?</h4>
            <p>The opacity results may have appeared for reasons analogous to the ones mentioned above, but we suspect they were a result of <a href="https://support.google.com/adwords/answer/2453998" target="_blank">remarketing</a>. In remarketing, when a user visits an advertiser's website, the ad keeps following the user all over the Internet. 
              We speculate remarketing to be the more likely reason among the two since thewatershed.com was among the substance-abuse websites visited prior to ad collection. Once again being on the outside, we cannot pinpoint the actual reason.</p>
          </section>

	  <section>
	    <h4>Have you conveyed your findings to Google?</h4>
            <p>We informed some researchers at Google about our findings, but did not receive an official response from them. Google however responded to a journalist at the <a href="http://www.post-gazette.com/business/career-workplace/2015/07/08/Carnegie-Mellon-researchers-see-disparity-in-targeted-online-job-ads/stories/201507080107" target="_blank">Pittsburgh Post Gazette</a> stating it’s possible that women saw a greater variety of display ads overall because advertisers generally target women as a demographic more (Reason #4 from above). Additionally, in response to a <a href="http://www.technologyreview.com/news/539021/probing-the-dark-side-of-googles-ad-targeting-system/" target="_blank">MIT Technology Review </a> journalist, they said <q cite="http://www.technologyreview.com/news/539021/probing-the-dark-side-of-googles-ad-targeting-system/">Advertisers can choose to target the audience they want to reach, and we have policies that guide the type of interest-based ads that are allowed</q> (Reason #1 from above).</p>            
          </section>
	  
	  <section><h4>Have you conveyed your findings to the Barrett Group?</h4>
            <p>We did not contact the Barrett Group. However, when a journalist at the Pittsburgh Post-Gazette contacted them, they did issue a statement. An excerpt from the article states</p>
              <blockquote cite="http://www.post-gazette.com/business/career-workplace/2015/07/08/Carnegie-Mellon-researchers-see-disparity-in-targeted-online-job-ads/">
		<p>Barrett Group president Waffles Pi Natusch said he’s not sure how the ads ended up skewing so heavily toward men but noted some of the company’s ad preferences might push Google’s algorithms in that direction.
		The company generally seeks out individuals with executive-level experience who are older than 45 years and earn more than $100,000 per year.</p>
              </blockquote>
              <p>Read the full article <a href="http://www.post-gazette.com/business/career-workplace/2015/07/08/Carnegie-Mellon-researchers-see-disparity-in-targeted-online-job-ads/" target="_blank">here</a>.</p>
          </section>

	  <section>
	    <h4>What are the implications of the discrimination results?</h4>
            <p>When the ad selection process is data-driven and algorithms do nothing to prevent discriminatory inputs from affecting results, algorithms reflect whatever is fed in including human prejudices. Such reflections can further reinforce existing stereotypes, leading to more skewed input data. The algorithms are unaware of fairness or social norms. As more and more algorithms are being used to make important decisions like loan approvals, insurance rates, etc., it is important that the algorithms are aware of such social and ethical values. We carry out a legal analysis of our results and find that the ad platform (in this case, Google) may be held legally liable for serving discriminatory ads under certain scenarios in this (<a href="http://www1.icsi.berkeley.edu/~mct/pubs/fatstar18.pdf" target="_blank">paper</a>). </p>          
          </section>

	  <section>
	    <h4>Why are these findings important?</h4>
            <p>Our experiments demonstrate the existence of discrimination and opacity in complex environments involving data-driven algorithms and human actors. Results such as ours using external oversight tools like AdFisher can provide a starting point for further investigations by companies that run ad networks or by regulatory agencies with oversight powers. We are also interested in collaborating with companies that operate on personal information to create oversight tools for internal use.</p>
	  </section>
        
        
	  <section>
	    <h4>Has anything changed as a result of these findings?</h4>
            <p>As outsiders, we found that Google made it more difficult to access all features of the Ad Settings tool. Without signing in, users can no longer view or edit demographics and inferred interests. While this has made re-running similar experiments harder, it is unclear whether they have made algorithmic or policy changes internally to prevent such discrimination from re-ocurring. We don't have any reason to believe so, since we were able to use Google's ad platform to target and exclude employment and housing ads based on gender by posing as advertisers in late 2017. These results are available <a href="http://www1.icsi.berkeley.edu/~mct/pubs/fatstar18.pdf" target="_blank">here</a>
          </p>
	  </section>
        
	</section>

      </main>
    </div>
    <!-- Bootstrap core JavaScript
	 ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
  </body>
</html>
